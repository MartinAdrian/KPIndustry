{% extends 'homepage.html' %}
{% load static %}
{% block logo %}
  <a href="{% url 'KPIndustry:homepage' %}"><img src="{% static 'Logo.png' %}" height="100"></a>
{% endblock %}

{% block banner2 %}
  {% if request.user.is_authenticated %}
      <p style="margin:0px; text-align: center">Logged in as:</p>
      <p style="margin: 0px; font-weight: bold; text-align: center">{{ request.user.first_name }} {{ request.user.last_name }}</p>
  {% endif %}
{% endblock %}

{% block content2 %}
    <form method="post">
        {% csrf_token %}
        <table class="content-table" style="height: 770px; max-height: 770px; min-height: 770px">
            <tr>
                <th colspan="8" style="font-size:25px">
                    {{ object.project_name }}
                </th>
            </tr>
            <tr style="height: 30px">
                <th colspan="3" style="max-height: 50px">Project Info</th>
                <th style="width: 100%">Project Description <button type="submit" class="add-btn" style="display: inline-block; border: 1px solid black; cursor: pointer; font-weight: bold; font-family: Calibri; margin: 0px; padding: 1px; font-size: 16px">
                        Save
                    </button>
                </th>
                <th colspan="2" style="max-height: 50px">Lead Testers</th>
                <th colspan="2" style="max-height: 50px">Testers</th>
            </tr>
            <tr style="height: 30px">
                <th style="width: 1px; padding-left: 5px; padding-right: 5px">Id</th>
                <th style="min-width: 150px">Partner</th>
                <th style="min-width: 170px">Project Manager</th>
                {% for field in form %}
                <td rowspan="6" ><textarea class="add-box proj-desc" name="{{ field.html_name }}" style="resize: none">{{ field.value }}</textarea></td>
                {% endfor %}
                <th>Available</th>
                <th>On Project</th>
                <th>Available</th>
                <th>On Project</th>
            </tr>
            <tr style="max-height: 50px">
                <td style="padding-left: 5px; padding-right: 5px">{{object.id}}</td>
                <td  style="height: 30px">{{object.project_partner}}</td>
                <td>{{object.project_manager}}</td>
                <td rowspan="6" class="adding-cell">
                    <table class="hidden-table">
                        {% for user in users %}
                            {% if user.user_type == "Lead Tester" and user.on_project == "None" %}
                                <tr>
                                    <td>
                                        <p style="margin: 0px; padding: 0px">{{user.first_name}} {{user.last_name}}</p>
                                    </td>
                                    <td>
                                        <a aria-disabled="true" class="add-btn" style="padding-left: 2px; padding-right: 2px" href="{% url 'KPIndustry:user-add-project' object.id user.id %}">></a>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </table>
                </td>
                <td rowspan="6" class="adding-cell">
                    <table class="hidden-table">
                        {% for user in users %}
                            {% if user.user_type == "Lead Tester" and user.on_project == object.project_name %}
                                <tr>
                                    <td style="width: 1px">
                                        <a aria-disabled="true" class="deactivate-btn" style="padding-left: 2px; padding-right: 2px" href="{% url 'KPIndustry:user-rem-project' object.id user.id %}"><</a>
                                    </td>
                                    <td>
                                        <p style="margin: 0px; padding: 0px">{{user.first_name}} {{user.last_name}}</p>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </table>
                </td>
                <td rowspan="6" class="adding-cell">
                    <table class="hidden-table">
                        {% for user in users %}
                            {% if user.user_type == "Tester" and user.on_project == "None" %}
                                <tr>
                                    <td>
                                        <p style="margin: 0px; padding: 0px">{{user.first_name}} {{user.last_name}}</p>
                                    </td>
                                    <td>
                                        <a aria-disabled="true" class="add-btn" style="padding-left: 2px; padding-right: 2px" href="{% url 'KPIndustry:user-add-project' object.id user.id %}">></a>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </table>
                </td>
                <td rowspan="6" class="adding-cell">
                    <table class="hidden-table">
                        {% for user in users %}
                            {% if user.user_type == "Tester" and user.on_project == object.project_name %}
                                <tr>
                                    <td style="width: 1px">
                                        <a aria-disabled="true" class="deactivate-btn" style="padding-left: 2px; padding-right: 2px" href="{% url 'KPIndustry:user-rem-project' object.id user.id %}"><</a>
                                    </td>
                                    <td>
                                        <p style="margin: 0px; padding: 0px">{{user.first_name}} {{user.last_name}}</p>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </table>
                </td>
            </tr>
            <tr style="height: 30px">
                <th colspan="3" style="height: 30px">
                    Timeframe
                </th>
            </tr>
            <tr style="height: 30px">
                <th colspan="2">Start Date</th><td>{{object.start_date}}</td>
            </tr>
            <tr style="height: 30px">
                <th colspan="2">Status</th><td>{{object.project_activity}}</td>
            </tr>
            <tr style="height: 30px">
                <th colspan="2">Ending Date</th><td>{{object.end_date}}</td>
            </tr>
            <tr style="height: 30px">
                <td style="border: 0px; height: 100%"></td>
            </tr>
        </table>
    </form>
{% endblock %}